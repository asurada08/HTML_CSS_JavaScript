<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>키 이벤트 응용</title>
  <!--3x3 표를 만들고 상하좌우 키를 이용하여 셀의 배경색을 바꾸면서 표의 셀 사이를 이동하는 웹 폐이지를 작성하라-->
  <style>
  td{width:50px; height:50px; border:1px solid green;}
  </style>
  <script>
  let tds;
  let prevIndex=0, index=0;
  window.onload=function(){//웹 페이지의 로딩 완료시 실행
	  tds=document.getElementsByTagName("td");
	  tds[index].style.backgroundColor="green";
  }
  window.onkeydown=function(e){
	  /*0 1 2
	    3 4 5
		6 7 8
	  */
	  switch(e.key){
		case "ArrowDown":// 0/3 3/3 6/3
			if(index/3 >= 2) {console.log("i="+index/3); return;}//맨 위 셀의 경우
			index += 3;//현재 셀에서 3씩 증가하면서 아래로 내려감
			console.log("index="+index);
			break;
		case "ArrowUp":// 6/3 3/3 0/3
			if(index/3 < 1){console.log("i="+index/3); return;}//맨 아래 셀의 경우
			index -= 3;//현재 셀에서 3씩 감소 위로 올라감
			console.log("index="+index);
			break;
		case "ArrowLeft":// 2/3 1/3 0/3
			if(index%3 == 0){console.log("i="+index/3); return;}//맨 왼쪽 셀의 경우
			index--;//현재셀에서 왼쪽으로 1만큼 감소하면서 왼쪽으로 감
			console.log("index="+index);
			break;
		case "ArrowRight":// 0/3 1/3 2/3
			if(index%3 == 2){console.log("i="+index/3); return;}//맨 오른쪽 셀의 경우
			index++;//현재셀에서 오른쪽으로 1만큼 증가하면서 오른쪽으로 감
			console.log("index="+index);
			break;
	  }
	  tds[index].style.backgroundColor="green";//현재 위치의 셀을 그린으로 표시
	  tds[prevIndex].style.backgroundColor="white";//이전 위치의 셀을 흰색으로 변경
	  prevIndex=index;//현재 위치를 이전 위치로 변경
  }
  </script>
 </head>
 <body>
  <h3>상하좌우 키로 셀 이동하기</h3>
  <hr>
  <table>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  </table>
 </body>
</html>
